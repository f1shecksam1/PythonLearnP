# pyproject.toml
# ğŸ§  Bu dosya, Python projesinin yapÄ±landÄ±rma merkezidir.
# - Paket bilgileri (isim, sÃ¼rÃ¼m, baÄŸÄ±mlÄ±lÄ±klar)
# - Build sistemi (setuptools, poetry, pdm vs.)
# - Kod kalite araÃ§larÄ± (ruff, black, mypy)
# - Test baÄŸÄ±mlÄ±lÄ±klarÄ±
# - Tip kontrolÃ¼, biÃ§imlendirme ve lint ayarlarÄ±

# -------------------------------------------------------------
# âš™ï¸ BUILD SYSTEM (Paketin nasÄ±l oluÅŸturulacaÄŸÄ±nÄ± belirtir)
# -------------------------------------------------------------
[build-system]
requires = ["setuptools>=68", "wheel"]  
# ğŸ“¦ 'setuptools' â†’ Python paketleme aracÄ±
# ğŸ“¦ 'wheel' â†’ .whl formatÄ±nda paket Ã¼retmek iÃ§in
# Bu ikisi olmadan "pip install -e ." gibi komutlar Ã§alÄ±ÅŸmaz.

build-backend = "setuptools.build_meta"
# ğŸ§© Python, projeyi build ederken bu backend'i kullanÄ±r.
# Bu, setuptoolsâ€™un modern (PEP 517 uyumlu) sÃ¼rÃ¼mÃ¼dÃ¼r.

# -------------------------------------------------------------
# ğŸ§± PROJECT METADATA (Projenin temel bilgileri)
# -------------------------------------------------------------
[project]
name = "learnpyapp"         # ğŸ“› Paket adÄ±
version = "0.1.0"           # ğŸ”¢ SÃ¼rÃ¼m numarasÄ±
requires-python = ">=3.10"  # ğŸ Minimum Python sÃ¼rÃ¼mÃ¼

# ğŸ§© Ana baÄŸÄ±mlÄ±lÄ±klar (app'in Ã§alÄ±ÅŸmasÄ± iÃ§in gerekenler)
dependencies = [
  "fastapi",                # ğŸŒ Web framework
  "uvicorn[standard]",      # âš¡ ASGI server (FastAPI'yi Ã§alÄ±ÅŸtÄ±rÄ±r)
  "pydantic-settings",      # âš™ï¸ Ortam deÄŸiÅŸkenlerinden ayar okuma
  "python-jose[cryptography]",   # ğŸ” JWT
  "passlib[bcrypt]",             # ğŸ”‘ Password hashing
]

# -------------------------------------------------------------
# ğŸ“¦ OPTIONAL DEPENDENCIES (isteÄŸe baÄŸlÄ± yÃ¼klenebilen baÄŸÄ±mlÄ±lÄ±klar)
# -------------------------------------------------------------
[project.optional-dependencies]
test = [
  "pytest",   # ğŸ§ª Test framework
  "httpx",    # ğŸŒ FastAPI TestClient iÃ§in gerekli
]
# ğŸ’¡ Bu grup, test ortamÄ±nÄ± kurmak iÃ§in kullanÄ±lÄ±r.
# Komut:
#   pip install -e .[test]
# YukarÄ±daki komut, hem uygulamayÄ± hem de test baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± kurar.

# -------------------------------------------------------------
# ğŸ§© SETUPTOOLS AYARLARI (kaynak kodunun yeri)
# -------------------------------------------------------------
[tool.setuptools]
package-dir = {"" = "src"}  
# ğŸ“‚ Kodun 'src/' klasÃ¶rÃ¼nde bulunduÄŸunu belirtir.
# Bu yapÄ±, modÃ¼l karmaÅŸasÄ±nÄ± azaltÄ±r (Ã¶rnek: yanlÄ±ÅŸ importâ€™lar).

[tool.setuptools.packages.find]
where = ["src"]  
# ğŸ” setuptoolsâ€™a â€œpaketleri src klasÃ¶rÃ¼nde araâ€ der.

# -------------------------------------------------------------
# ğŸ§° RUFF (linting + import dÃ¼zenleme aracÄ±)
# -------------------------------------------------------------
[tool.ruff]
line-length = 88           # ğŸ“ Maksimum satÄ±r uzunluÄŸu
target-version = "py310"   # ğŸ¯ Python sÃ¼rÃ¼m hedefi (3.10)

[tool.ruff.lint]
select = ["E", "F", "W", "I", "ANN"]
# ğŸ” Lint kurallarÄ±:
# - E, F, W â†’ Temel PEP8 + hata kurallarÄ±
# - I â†’ import dÃ¼zenleme (isort benzeri)
# - ANN â†’ type annotation (tip denetimi) kurallarÄ±

ignore = ["E501"]
# ğŸš« E501 = uzun satÄ±r uyarÄ±larÄ±nÄ± yok say

[tool.ruff.lint.isort]
combine-as-imports = true
known-first-party = ["learnpyapp"]
# âš™ï¸ Import sÄ±ralamasÄ±:
# - 'learnpyapp' kendi modÃ¼llerimiz olarak sayÄ±lÄ±r
# - DiÄŸerleri (stdlib, third-party) ayrÄ± gruplandÄ±rÄ±lÄ±r

# -------------------------------------------------------------
# âš« BLACK (otomatik kod biÃ§imlendirme aracÄ±)
# -------------------------------------------------------------
[tool.black]
line-length = 88
target-version = ["py310"]
# âš™ï¸ Kod biÃ§imlendirmeyi standart hale getirir.
# Komut:
#   black .
# (TÃ¼m dosyalarÄ± biÃ§imlendirir)

# -------------------------------------------------------------
# ğŸ” MYPY (tip kontrol aracÄ±)
# -------------------------------------------------------------
[tool.mypy]
python_version = "3.10"                # ğŸ¯ Python sÃ¼rÃ¼mÃ¼
disallow_untyped_defs = true           # âŒ Tip belirtilmeyen fonksiyonlara izin verme
disallow_incomplete_defs = true        # âŒ Eksik tip aÃ§Ä±klamalarÄ±na izin verme
check_untyped_defs = true              # âœ… Tipi olmayan fonksiyonlarÄ± da kontrol et
warn_return_any = true                 # âš ï¸ "Any" dÃ¶nÃ¼ÅŸ tipi uyarÄ±sÄ±
warn_unused_ignores = true             # âš ï¸ Gereksiz # type: ignore uyarÄ±sÄ±
warn_redundant_casts = true            # âš ï¸ Gereksiz cast iÅŸlemlerini bildir
warn_unused_configs = true             # âš ï¸ KullanÄ±lmayan ayarlarÄ± bildir
ignore_missing_imports = true          # ğŸ”• Tip stub olmayan modÃ¼lleri yok say
strict_equality = true                 # ğŸ§© == yerine __eq__ uyum kontrolÃ¼
no_implicit_optional = true            # âœ… Optional tipleri aÃ§Ä±kÃ§a belirt (Ã¶rnek: Optional[str])

# ğŸ’¡ Tip kontrol komutu:
#   mypy src/
# ğŸ’¡ Tip ihlali varsa hata olarak dÃ¶ner.

# -------------------------------------------------------------
# ğŸ§ª TEST KOMUTLARI
# -------------------------------------------------------------
# Testleri Ã§alÄ±ÅŸtÄ±rmak iÃ§in:
#   pytest -q
# veya
#   python -m pytest
# EÄŸer test baÄŸÄ±mlÄ±lÄ±klarÄ± yoksa:
#   pip install -e .[test]
# ArdÄ±ndan:
#   pytest -v
# -------------------------------------------------------------
